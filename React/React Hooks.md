## React Hooks







### ä½¿ç”¨react-create-appæ„å»ºå·¥å…·

```react
npx create-react-app train-ticket
// train-ticketé¡¹ç›®åç§°
```

Create React App æ˜¯ä¸€ä¸ªå®˜æ–¹æ”¯æŒçš„åˆ›å»º React å•é¡µåº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚å®ƒæä¾›äº†ä¸€ä¸ªé›¶é…ç½®çš„ç°ä»£æ„å»ºè®¾ç½®ã€‚





[reactè°ƒè¯•å·¥å…·](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?utm_source=chrome-ntp-icon)





æ›´å¤šçš„ä½¿ç”¨ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡ŒReact [ä¸­æ–‡æ–‡æ¡£](https://www.html.cn/create-react-app/docs/documentation-intro/)



## react-scriptsçš„ä½œç”¨ä¸å·¥ä½œåŸç†

react-scripts æ˜¯ create-react-app çš„ä¸€ä¸ªæ ¸å¿ƒåŒ…ï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ¥äº†è§£å®ƒçš„ä½œç”¨å’ŒåŸç†ã€‚



é¡¹ç›®åˆå§‹åŒ–åï¼Œæˆ‘ä»¬æ‰“å¼€package.jsonæ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬å‘ç°æˆ‘ä»¬èƒ½ç”¨çš„Scriptsæœ‰ä»¥ä¸‹å‡ ä¸ªğŸ‘‡

```bash
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
```

å……æ»¡å¥½å¥‡çš„æˆ‘ï¼Œæƒ³çŸ¥é“è¿™ä¸ªreact-scriptsåˆ°åº•åšäº†å“ªäº›äº‹æƒ…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰“å¼€node_modulesæ–‡ä»¶ä¸­ä¸€çª¥ç©¶ç«ŸğŸ‘‡



æ‰¾åˆ°è¿™ä¸ªreact-scripts/binç›®å½•ä¸­ï¼Œæœ‰ä¸ªjsæ–‡ä»¶ï¼Œæˆ‘ä»¬ç‚¹è¿›å»çœ‹çœ‹å…·ä½“åšäº†å“ªäº›äº‹æƒ…ğŸ‘‡

```js
nodeArgs
      .concat(require.resolve('../scripts/' + script))
      .concat(args.slice(scriptIndex + 1))
```

ä»ä¸Šé¢è¿™è¯å¯ä»¥çœ‹å‡ºè°ƒç”¨startæ—¶éœ€è¦è°ƒç”¨scripts/start.jsï¼Œç‚¹å¼€è¯¥æ–‡ä»¶,ä¼šå‘ç°å…¶å®é‡Œé¢å¥½å¤šé»˜è®¤çš„é…ç½®éƒ½æ˜¯å†™åœ¨è¯¥æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹æ”¹æ–‡ä»¶æ¥å®ç°è‡ªå·±æ–‡ä»¶çš„å­˜æ”¾é…ç½®ï¼Œé€šè¿‡åµŒå¥—å…³ç³»ï¼Œç„¶åä½ ä¼šæ‰¾åˆ°`config/webpack.config.js`æ–‡ä»¶ï¼Œåˆ°è¿™é‡Œçš„è¯ï¼Œä¸€åˆ‡éƒ½å¾ˆæ˜æœ—äº†ã€‚

react-scriptså¸®æˆ‘ä»¬é…ç½®å¥½äº†webpackæ„å»ºè¿‡ç¨‹ï¼Œä¹‹å‰éœ€è¦æˆ‘ä»¬é…ç½®çš„å†…å®¹ï¼Œç°åœ¨éƒ½ä¸éœ€è¦æˆ‘ä»¬åŠ¨æ‰‹å»é…ç½®äº†ã€‚



é‚£æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹å¯ç”¨çš„Scriptså…·ä½“æœ‰å“ªäº›ä½œç”¨ğŸ‘‡

- `npm test` ï¼šä»¥äº¤äº’å¼ç›‘è§†æ¨¡å¼å¯åŠ¨æµ‹è¯•è¿è¡Œå™¨ã€‚
- `npm run eject` ï¼šå¦‚æœä½ å¯¹æ„å»ºå·¥å…·å’Œé…ç½®é€‰é¡¹ä¸æ»¡æ„ï¼Œå¯ä»¥éšæ—¶ `eject` ã€‚æ­¤å‘½ä»¤å°†ä»é¡¹ç›®ä¸­åˆ é™¤å•ä¸ªæ„å»ºä¾èµ–é¡¹ã€‚



æ‰§è¡ŒejectæŒ‡ä»¤ï¼Œä½ å¯ä»¥ç†è§£æˆä¼šå°†å°è£…å†create-react-appä¸­çš„é…ç½®å…¨éƒ¨åç¼–è¯‘åˆ°å½“å‰é¡¹ç›®ä¸­ï¼Œè¿™æ ·å­ç”¨æˆ·å°±å¯ä»¥å®Œå…¨å–åˆ°webpackæ–‡ä»¶çš„æ§åˆ¶æƒé™ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç†è§£æˆejectå‘½ä»¤å­˜åœ¨æ„ä¹‰å°±æ˜¯æ›´æ”¹webpacké…ç½®ã€‚



## React æ–°ç‰¹æ€§

æ¥ä¸‹æ¥æ¢³ç†æ€»ç»“ä»¥ä¸‹å¸¸è§çš„æ–°ç‰¹æ€§ã€‚



## Context

Context æä¾›äº†ä¸€ä¸ªæ— éœ€ä¸ºæ¯å±‚ç»„ä»¶æ‰‹åŠ¨æ·»åŠ  propsï¼Œå°±èƒ½åœ¨ç»„ä»¶æ ‘é—´è¿›è¡Œæ•°æ®ä¼ é€’çš„æ–¹æ³•ã€‚



### ä½•æ—¶ä½¿ç”¨Context

Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ã€‚



å¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿ



### React.createContext()

```jsx
const MyContext = React.createContext(defaultValue)
```







æ›´å¤šçš„ä¾‹å­ï¼Œå¯ä»¥æŸ¥çœ‹å®˜ç½‘çš„[Contextæ–‡æ¡£](https://react.docschina.org/docs/context.html)



