## å‰è¨€

è¿™ç¯‡æ–‡ç« çš„è¯ï¼Œåˆ†äº«ä¸€äº›æœ€è¿‘ä½¿ç”¨Reactå¼€å‘é¡¹ç›®æ—¶ï¼Œç”¨åˆ°çš„å°æŠ€å·§,å…¶å®ä¹Ÿç®—æ˜¯JavaScriptä¸­çš„ä¸€äº›æŠ€å·§å§ï¼Œå†…å®¹ä¸»è¦æœ‰ä¸€ä¸‹å‡ ç‚¹ğŸ‘‡



- äº§ç”Ÿéšæœºä¸é‡å¤id
- å¿«é€Ÿå–æ•´æ•°
- åˆç†å¸ƒå±€æ ·å¼
- å­—ç¬¦ä¸²xmlçš„è½¬æ¢
- ç‰¹æ®Šå­—ç¬¦ä¸²çš„æ’åº
- è·å–æ•°ç»„çš„æœ€å¤§æœ€å°å€¼
- åœ¨æ¡ä»¶ä¸­ä½¿ç”¨é€»è¾‘ä¸æˆ–





---------



## å¿«é€Ÿå–æ•´æ•°

åœ¨JavaScriptä¸­å»æ•´æ•°çš„è¯ï¼Œæœ€å¸¸è§çš„æ˜¯`Math.round()`è¿›è¡Œå››èˆäº”å…¥ï¼Œ`Math.floor() `ä»¥åŠ` Math.ceil() `ç­‰æ–¹æ³•å–æ•´æ•°ã€‚æ¥ä¸‹æ¥è¿˜æœ‰ä¸€ç§å»æ•´æ•°çš„æ–¹æ³•ğŸ‘‡

```js
const num = Math.random() * 100
console.log(num)   // éšæœºæ•°å­—
console.log(~~num) // å–å¾—æ•´æ•¸çš„éƒ¨åˆ†
```



è¿™æ ·å­ï¼Œä¹Ÿæ˜¯ä¸€ç§å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”å¾ˆå®¹æ˜“è®°ä½çš„æ–¹æ³•æ¥è·å–æ•´æ•°ã€‚

æ˜¯ä¸æ˜¯getä¸€ä¸ªå°æŠ€å·§å‘¢ğŸ¤­



----------



## è·å–æ•°ç»„çš„æœ€å¤§æœ€å°å€¼

è¿™æ˜¯æœ€è¿‘é‡åˆ°çš„ä¸€ä¸ªå°é—®é¢˜ï¼Œå½“ç„¶äº†ï¼Œæ±‚è§£è¿™ä¸ªé—®é¢˜ä¸æ˜¯éš¾ç‚¹ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªå°æŠ€å·§ï¼Œæ‰€ä»¥å°±åˆ†äº«å‡ºæ¥ğŸ‘‡



```js
const numbers = [1, 2, 3, 99, 4, 4, -1];
const maxNumber = Math.max.apply(Math, numbers);
const minNumber = Math.min.apply(Math, numbers);
```





-----------



## ç‰¹æ®Šå­—ç¬¦ä¸²çš„æ’åº

æœ€è¿‘åœ¨æ’åºå­—æ¯çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ç‚¹å°é—®é¢˜ï¼Œè¿™æ¬¡æŠŠå®ƒç»™åˆ†äº«å‡ºæ¥ğŸ‘‡

ä½¿ç”¨çš„æ˜¯**localeCompare**è¿™ä¸ªå‡½æ•°ï¼Œé‚£å®ƒçš„è¿”å›å€¼æ˜¯å“ªäº›

é¦–å…ˆï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ˜¯å¦ **å¼•ç”¨å­—ç¬¦ä¸²** åœ¨æ’åºä¸­ä½äº **æ¯”è¾ƒå­—ç¬¦ä¸²** çš„å‰é¢ï¼Œåé¢ï¼Œæˆ–è€…äºŒè€…ç›¸åŒã€‚

è¿™ä¸ªè¿”å›å€¼æœ‰ä¸‰ä¸ªğŸ‘‡

- å½“ **å¼•ç”¨å­—ç¬¦ä¸²** åœ¨ **æ¯”è¾ƒå­—ç¬¦ä¸²** å‰é¢æ—¶è¿”å› -1
- å½“ **å¼•ç”¨å­—ç¬¦ä¸²** åœ¨ **æ¯”è¾ƒå­—ç¬¦ä¸²** åé¢æ—¶è¿”å› 1
- ç›¸åŒä½ç½®æ—¶è¿”å› 0



ä¸¾ä¸ªä¾‹å­ğŸ‘‡

```js
'a'.localeCompare('c')
// è¿”å›çš„å€¼æ˜¯ -1
'check'.localeCompare('against') 
// è¿”å›çš„å€¼æ˜¯ 1

'a'.localeCompare('a')
// è¿”å›çš„å€¼æ˜¯ 0
```



æŒæ¡äº†åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ï¼Œæ’åºæ•°ç»„å°±å¾ˆç®€å•äº†ğŸ‘‡

```
const strList = ['a','d','f','h','e']
strList.sort((a, b) => a.localeCompare(b))
console.log(strList)

// ["a", "d", "e", "f", "h"]
```

æ˜¯ä¸æ˜¯getä¸€ä¸ªå°æŠ€å·§å‘¢



-----------





## åœ¨æ¡ä»¶ä¸­ä½¿ç”¨é€»è¾‘ä¸æˆ–

æœ€è¿‘é¡¹ç›®ä¸­ï¼Œå­¦ä¼šå¾—ä¸€ä¸ªå°æŠ€å·§ï¼Œå°±æ˜¯é€»è¾‘ä¸æˆ–å»æ¸²æŸ“å¯¹åº”çš„åœºæ™¯ï¼Œé€šè¿‡stateä¸­çš„isRightæ¥æ›´æ–°ç­”é”™ç­”é”™çš„æ•ˆæœã€‚

```react
render() {
    const {
        _gameContainer,
        _optionStyle,
        _mode,
        state: {
            isRight
        }
    } = this
    let style = {}
    
    return (
        <div style = {style}>
            { _mode === MODE.NORMAL && this._renderFourOptionsBg()}
            {/* æ­£ç¡®é”™è¯¯,æç¤ºçš„æ•ˆæœæ˜¾ç¤º */}
            {isRight && this._renderCorrectBg()}
        </div>
    )
}
```



å“ˆå“ˆå“ˆï¼Œgetä¸€ä¸ªå°æŠ€å·§ğŸ¤­





------



## åˆç†å¸ƒå±€æ ·å¼

æœ€è¿‘åœ¨ç”¨reactå¼€å‘ä¸­ï¼Œåˆgetåˆ°ä¸€ä¸ªå°æŠ€å·§ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å¸ƒå±€ï¼Œé‚£ä¹ˆå¦‚ä½•ä¼˜é›…çš„å¸ƒå±€å‘¢ğŸ‘‡



ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼Œæ‹¿åˆ°UIæ—¶ï¼Œæœ‰ä¸‰ä¸ªæŒ‰é’®æ ·å¼åŸºæœ¬ä¸Šä¸€æ ·ï¼Œå°±æ˜¯å®šä½ä¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å­æ¥å†™ğŸ‘‡



```

// ä¸‰ä¸ªæŒ‰é’®çš„åŸºæœ¬æ ·å¼
this._threeBaseStyle = Array(3).fill(null).map( (_, i) => {
  const left = (757 + i * (238 + 21)) * scale - leftCut
  return {
      position: 'absolute',
      width: 238 * scale,
      height: 59 * scale,
      top: 596 * scale,
      left,
      backgroundSize: '100% 100%',
  }
})

// æ¯ä¸ªä¸åŒæŒ‰é’®çš„å…·ä½“ä¿¡æ¯
this._threeOptionsStyle = [{
  top: 159 * scale,
  left: 1340 * scale - leftCut,
},{
  top: 253.6 * scale,
  left: 1431.4 * scale - leftCut,
},{
  top: 347.3 * scale,
  left: 1339.6 * scale - leftCut,
}]
```

åœ¨reactä¸­ï¼Œæˆ‘ä»¬å®šä¹‰å¥½äº†è¿™äº›æ•°æ®åï¼Œåº”è¯¥å¦‚ä½•å»æ¸²æŸ“å‘¢ğŸ‘‡

```react
_renderBottomEleBg() {
  const {
      _threeBaseStyle,
      _threeOptionsStyle,
      state: {
          isRight,
          userAnswer
      }
  } = this
  const _index = this._options.findIndex(e => e === userAnswer)
  return (
      <div>
          {
              _threeBaseStyle.map((el,i) => {
                  return (
                      <div 
                          key = {i} 
                          style = { {...el,..._threeOptionsStyle,backgroundImage:((isRight && _index === i) ? `url(${BOTTOM_CORRECT_BG})` : `url(${BOTTOM_PROMPT_BG})`)} }
                      >
                      </div>
                  )
              })
          }
      </div>
  )
}
```

åˆç†çš„å‡å°‘ä»£ç é‡ï¼Œä¹Ÿç®—æ˜¯å¼€å‘ä¸­çš„ä¸€ä¸ªå°æŠ€å·§å§ğŸ¤­





-----------------



## äº§ç”Ÿéšæœºä¸é‡å¤id

å½“ä½ æœ‰è¿™ä¸ªéœ€æ±‚çš„æ—¶å€™ï¼Œå¸Œæœ›äº§ç”Ÿéšæœºä¸”ä¸åŒçš„idæ—¶ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ–¹å¼å‘¢ğŸ‘‡

æœ‰ä¸ªä¸é”™çš„æ–¹å¼ğŸ‘‰**éšæœºæ•°+æ—¶é—´æˆ³**

1. é¦–å…ˆä½¿ç”¨Math.random() äº§ç”Ÿ0~1ä¹‹é—´çš„çº¦16~17ä½çš„æµ®ç‚¹æ•°ï¼Œå†é€šè¿‡toString(36)æ–¹æ³•ç¼©çŸ­å…¶ä½æ•°ã€‚



```js
// é€šå¸¸è€Œè¨€,è¿™ä¸ªnæ˜¯è‡ªå·±å®šçš„
Math.random().toString(36).substr(2,n)  
```



2. ä½¿ç”¨Date.now() è·å–ç›®å‰æ¯«ç§’æ•°ï¼Œä¸€å…±13ä½ï¼ŒåŒæ ·å¯ä»¥é€šè¿‡è¿™ä¸ªtoString(36)çš„æ–¹æ³•ç¼©çŸ­å…¶ä½æ•°ã€‚



```js
// nè‡ªå·±æ¥è§„å®šå¤§å°

Date.now().toString(36).substr(0,n)

//Date.now().toString(36).substr(0,4)
```



é‚£ä¹ˆä»–ä»¬ä¸¤ä¸ªç»„åˆåœ¨ä¸€èµ·çš„è¯ï¼Œåº”è¯¥å°±ä¸å¯èƒ½æœ‰é‡å¤çš„å•¦ğŸ‘‡

```js
Date.now().toString(36).substr(0,n) + Math.random().toString(36).substr(2,n)  
```



----------------



## å­—ç¬¦ä¸²xmlçš„è½¬æ¢

ä½ æ˜¯ä¸æ˜¯é‡åˆ°è¿‡åœ¨JavaScriptä¸­è·å–XMLï¼Œä½†æ˜¯å¾—åˆ°çš„ä¸œè¥¿åˆä¸æ˜¯ä½ æƒ³è¦çš„ä¸œè¥¿å‘¢ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰æ›´åŠ ç®€å•çš„æ–¹æ³•å‘¢ï¼Ÿ æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢æ‰€æåˆ°çš„ğŸ‘‡



**XMLè½¬å­—ç¬¦ä¸²String**ğŸ‘‡

```js
xmlToString = (new XMLSerializer()).serializeToString(xmlObject)
```



å­—ç¬¦ä¸²è½¬XML

```js
 stringToXML = (new DOMParser()).parseFromString(xmlString, "text/xml")
```



----------







